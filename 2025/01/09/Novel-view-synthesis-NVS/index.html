<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto+Sans+SC:300,300italic,400,400italic,700,700italic%7CArial:300,300italic,400,400italic,700,700italic%7Csans-serif:300,300italic,400,400italic,700,700italic%7CPingFang+SC:300,300italic,400,400italic,700,700italic%7CMicrosoft+YaHei:300,300italic,400,400italic,700,700italic%7CSource+Han+Serif:300,300italic,400,400italic,700,700italic%7Cserif:300,300italic,400,400italic,700,700italic%7CFira+Code:300,300italic,400,400italic,700,700italic%7CConsolas:300,300italic,400,400italic,700,700italic%7Cmonospace:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.8.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>
<meta name="description" content="New Topic For Me to explore! å¯¹æˆ‘æ¥è¯´æ­£å¼å¼€å¯3D Image~ é¦–å…ˆæˆ‘æ˜¯çœ‹äº†ä¸¤ç¯‡reviewäº†è§£äº†è¿™ä¸ªtopicçš„ä¸»è¦ä»»åŠ¡ï¼š  advancements in radiance field techniques for volumetric video generation: a technical overview From Capture to Disp">
<meta property="og:type" content="article">
<meta property="og:title" content="Novel view synthesis(NVS)">
<meta property="og:url" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/index.html">
<meta property="og:site_name" content="YAN&#39;s Blog">
<meta property="og:description" content="New Topic For Me to explore! å¯¹æˆ‘æ¥è¯´æ­£å¼å¼€å¯3D Image~ é¦–å…ˆæˆ‘æ˜¯çœ‹äº†ä¸¤ç¯‡reviewäº†è§£äº†è¿™ä¸ªtopicçš„ä¸»è¦ä»»åŠ¡ï¼š  advancements in radiance field techniques for volumetric video generation: a technical overview From Capture to Disp">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/incremental-sfm.png">
<meta property="og:image" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/image-20250114162420847.png">
<meta property="og:image" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/image-20250115133036561.png">
<meta property="og:image" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/image-20250115133949032.png">
<meta property="og:image" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/image-20250212142310347.png">
<meta property="og:image" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/image-20250212153512883.png">
<meta property="og:image" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/image-20250709152101346.png">
<meta property="og:image" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/image-20250710101850259.png">
<meta property="article:published_time" content="2025-01-09T02:17:18.000Z">
<meta property="article:modified_time" content="2025-07-10T08:02:28.687Z">
<meta property="article:author" content="YAN">
<meta property="article:tag" content="cv">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2025/01/09/Novel-view-synthesis-NVS/incremental-sfm.png">


<link rel="canonical" href="http://example.com/2025/01/09/Novel-view-synthesis-NVS/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2025/01/09/Novel-view-synthesis-NVS/","path":"2025/01/09/Novel-view-synthesis-NVS/","title":"Novel view synthesis(NVS)"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Novel view synthesis(NVS) | YAN's Blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">YAN's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#nerf"><span class="nav-number">1.</span> <span class="nav-text">NeRF</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#llff-%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="nav-number">1.1.</span> <span class="nav-text">LLFF æ•°æ®é›†</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#nerf-code-%E8%A7%A3%E6%9E%90"><span class="nav-number">1.2.</span> <span class="nav-text">Nerf Code è§£æ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dgs"><span class="nav-number">2.</span> <span class="nav-text">3DGS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#dgs-code-%E8%A7%A3%E6%9E%90"><span class="nav-number">2.1.</span> <span class="nav-text">3DGS Code è§£æ</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="YAN"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">YAN</p>
  <div class="site-description" itemprop="description">Be smart! Keep Learning</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">39</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/applepieiris" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;applepieiris" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/applepieiris" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/01/09/Novel-view-synthesis-NVS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="YAN">
      <meta itemprop="description" content="Be smart! Keep Learning">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YAN's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Novel view synthesis(NVS)
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2025-01-09 10:17:18" itemprop="dateCreated datePublished" datetime="2025-01-09T10:17:18+08:00">2025-01-09</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2025-07-10 16:02:28" itemprop="dateModified" datetime="2025-07-10T16:02:28+08:00">2025-07-10</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/cv/" itemprop="url" rel="index"><span itemprop="name">cv</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Symbols count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Symbols count in article: </span>
      <span>12k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>11 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>New Topic For Me to explore! å¯¹æˆ‘æ¥è¯´æ­£å¼å¼€å¯3D Image~</p>
<p>é¦–å…ˆæˆ‘æ˜¯çœ‹äº†ä¸¤ç¯‡reviewäº†è§£äº†è¿™ä¸ªtopicçš„ä¸»è¦ä»»åŠ¡ï¼š</p>
<ul>
<li>advancements in radiance field techniques for volumetric video
generation: a technical overview</li>
<li><a target="_blank" rel="noopener" href="http://arxiv.org/abs/2309.05658">From Capture to Display: A
Survey on Volumetric Video</a></li>
</ul>
<p>å¦å¤–åŒæ­¥é˜…è¯»äº†huggingfaceçš„tutorialï¼šhttps://huggingface.co/learn/computer-vision-course/unit8/3d-vision/nvs
ã€‚è¿™ç¯‡åšå®¢å°†NVSæè¿°ä¸ºè¿™æ ·ä¸€ä¸ªä»»åŠ¡ï¼š</p>
<blockquote>
<p>generate views from new camera angles that are plausibly consistent
with a set of images.</p>
</blockquote>
<p>æˆ‘ä»¬åœ¨å¯¹ä¸€ä¸ªåœºæ™¯è¿›è¡Œ3Dè¿˜åŸæ—¶ï¼Œé¦–å…ˆçš„è¾“å…¥æ˜¯ä¸€ç³»åˆ—ç›¸æœºåœ¨ä¸åŒçš„è§†è§’æ‹æ‘„çš„é™æ€å›¾ç‰‡ï¼Œé€šè¿‡è¿™äº›å›¾ç‰‡æˆ‘ä»¬å¯¹è¯¥åœºæ™¯ä¸‹çš„äººç‰©ä»¥åŠç‰©ä½“è¿›è¡Œ3Då»ºæ¨¡ï¼Œä½†ç›¸æœºä¸ªæ•°æ˜¯æœ‰é™çš„ï¼Œå¦‚ä½•æ¨ç®—å‡ºæŸä¸ªæ²¡æœ‰ç›¸æœºçš„è§’åº¦ä¸Šçš„viewï¼Œè¿™å°±æ˜¯NVSè¿™ä¸ªä»»åŠ¡è¦åšçš„äº‹æƒ…ã€‚</p>
<p>å¾ˆå¤šæ–¹æ³•åœ¨è¿™ä¸ªtopicä¸Šæå‡ºæ¥ï¼Œå¤§è‡´å¯ä»¥åˆ†æˆä¸¤ç±»ï¼š<em>1ï¼‰generate an
intermediate three-dimensional representation, which is rendered from a
new viewing direction. æ¯”å¦‚PixelNeFRF 2ï¼‰direclty generated new views
without an intermediate 3D representaion</em>ï¼Œ æ¯”å¦‚Zero123</p>
<blockquote>
<p>2025.6.24 è¡¥å……</p>
<p>å¯¹äºè¯¥é¢†åŸŸçš„sceneçš„ç”Ÿæˆï¼Œ24å¹´googleçš„4D Gaussian
Splattingæå‡ºåï¼ŒæŠŠNVSåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯ä»¥Nerfå’Œ3DGSä¸ºä»£è¡¨çš„åŸºäºé™æ€å›¾ç‰‡ç”Ÿæˆ3Dåœºæ™¯ï¼Œå¦å¤–ä¸€éƒ¨åˆ†æ˜¯dynamic
scenesï¼Œè¿™é‡Œçš„dynamicæŒ‡çš„æ˜¯ä¸3DGSå¤„ç†çš„æŸä¸€æ—¶åˆ»çš„sceneä¸åŒï¼Œè¿™é‡Œè¦å¤„ç†çš„æ•°æ®åŠ å…¥äº†æ—¶åºç‰¹å¾ï¼Œåœºæ™¯ä¸­æœ‰åŠ¨æ€çš„ç‰©ä½“æˆ–è€…äººï¼Œæ¯”å¦‚è¡Œäººæˆ–è€…è¡Œé©¶çš„è½¦è¾†ã€‚4DGSåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†çœŸæ­£çš„real-timeçš„é—®é¢˜ã€‚</p>
</blockquote>
<span id="more"></span>
<h1 id="nerf">NeRF</h1>
<p><a target="_blank" rel="noopener" href="http://arxiv.org/abs/2003.08934">NeRF: Representing Scenes
as Neural Radiance Fields for View Synthesis</a></p>
<p>2020å¹´å‡ºçš„ä¸€ç¯‡æ–‡ç« ï¼Œä¸‹é¢è¿™å¥è¯å°±æ˜¯å®ƒè¿™ä¸ªç®—æ³•çš„ç²¾åï¼š</p>
<blockquote>
<p>Our algorithm represents a scene using a fully-connected
(nonconvolutional) deep network, whose input is a single continuous 5D
coordinate (spatial location (x, y, z) and viewing direction (Î¸, Ï†)) and
whose output is the volume density and view-dependent emitted radiance
at that spatial location</p>
</blockquote>
<h2 id="llff-æ•°æ®é›†">LLFF æ•°æ®é›†</h2>
<p>åœ¨æŸ¥çœ‹NeRFçš„<a target="_blank" rel="noopener" href="https://github.com/yenchenlin/nerf-pytorch">github
code(Pytorch)</a>æ—¶ï¼Œä¹Ÿæœ‰tensorflowç‰ˆæœ¬ï¼Œç§»æ­¥<a target="_blank" rel="noopener" href="https://github.com/bmild/nerf">å®˜æ–¹repo</a>ã€‚å‘ç°ä½œè€…ä½¿ç”¨äº†ä¸¤ä¸ªæ•°æ®é›†ï¼Œå…¶ä¸­ä¸€ä¸ªå°±æ˜¯LLFFï¼Œæœ¬ç€å­¦ä¹ çš„åŸåˆ™ï¼Œå…ˆæŠŠ<a target="_blank" rel="noopener" href="https://github.com/Fyusion/LLFF">LLFFæ•°æ®é›†</a>ææ¸…æ¥šã€‚</p>
<p>LLFFå…¨ç§°ä¸ºLocal light Field
Fusionï¼Œä¹Ÿæ˜¯æå‡ºäº†ä¸€ä¸ªNVSçš„ç®—æ³•ã€‚LLFFçš„ä¸»æ—¨æ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<p>present a simple and reliable method for view synthesis from a set of
input images captured by a handheld camera in an irregular grid
pattern.</p>
</blockquote>
<p>ç®€å•è¯´å°±æ˜¯ï¼šè¯¥æ–¹æ³•å¯ä»¥ä»ä¸€ç³»åˆ—æ‰‹æŒæ‹æ‘„çš„é™æ€å›¾ç‰‡ç”Ÿæˆä¸€ä¸ªsceneï¼Œè¿™ä¸ªsceneå¯ä»¥ç†è§£ä¸ºä¸€ä¸ª3Dçš„åœºæ™¯ï¼Œå¯ä»¥ç”¨VRçœ¼é•œçœ‹çš„é‚£ç§ã€‚</p>
<p>è¯¥<a href="(https://github.com/Fyusion/LLFF)">LLFF
repo</a>æä¾›äº†éå¸¸è¯¦ç»†çš„å®‰è£…æ•™ç¨‹ï¼Œä»¤æˆ‘æ¯”è¾ƒæ„Ÿå…´è¶£çš„æ˜¯ï¼Œå®ƒå¯ä»¥åŸºäºè‡ªå·±æ‹æ‘„çš„ä¸€äº›é™æ€å›¾ç‰‡ç”Ÿæˆä¸€ä¸ªsceneã€‚å…ˆæ¥çœ‹çœ‹å®ƒçš„è¿™ä»½ä»£ç ã€‚</p>
<p>æˆ‘ä»¬çš„è¾“å…¥æ˜¯ä»ä¸€ç³»åˆ—çš„imageså¼€å§‹çš„ï¼Œé¦–å…ˆç¬¬ä¸€æ­¥</p>
<ol type="1">
<li>recover cammera poses</li>
</ol>
<p>è¿™ä¸€æ­¥é‡‡ç”¨<a target="_blank" rel="noopener" href="https://github.com/colmap/colmap?tab=readme-ov-file">COLMAP</a>
å®ç°äº†ä¸€ä¸ª struture from
emotionçš„pipelineã€‚è¿™ä¸€æ­¥çš„è¾“å…¥æ˜¯ä¸€ç³»åˆ—çš„é™æ€å›¾åƒï¼Œè¾“å‡ºçš„æ˜¯è¿™ä¸ªåœºæ™¯ä¸‹çš„
6-DoF camera poseså’Œ near/far depth boundsã€‚</p>
<hr>
<p>Structure-from-Motion (SfM) <strong>is the process of reconstructing
3D structure from its projections into a series of images. The input is
a set of overlapping images of the same object, taken from different
viewpoints. The output is a 3-D reconstruction of the object, and the
reconstructed intrinsic and extrinsic camera parameters of all
images.</strong></p>
<figure>
<img src="/2025/01/09/Novel-view-synthesis-NVS/incremental-sfm.png" alt="incremental-sfm">
<figcaption aria-hidden="true">incremental-sfm</figcaption>
</figure>
<p>COLMAPä½¿ç”¨çš„æ–¹æ³•ä¾èµ–äº<a target="_blank" rel="noopener" href="http://ieeexplore.ieee.org/document/7780814/">Structure-from-Motion
Revisited</a>è¿™ç¯‡æ–‡ç« ï¼Œå®ƒå°†SfMåˆ†æˆä¸‰ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>feature detection and extraction</li>
</ul>
<p>è¿™ä¸€æ­¥å¥½ç†è§£ï¼Œç‰¹å¾æŠ½å–ï¼Œåˆ©ç”¨ä¸€ä¸ª<code>apprearance descriptor f</code></p>
<ul>
<li>feature matching and geometric verification</li>
</ul>
<p><em>feature matching</em>åˆ©ç”¨å‰ä¸€æ­¥çš„featuresæ‰¾å‡ºè¿™ä¸€ç³»åˆ—å›¾ç‰‡ä¸­çš„same
scene partã€‚åŸæ–‡æ˜¯è¿™æ ·å†™çš„ï¼š</p>
<blockquote>
<p>The na ÌˆÄ±ve approach tests every image pair for scene overlap; it
searches for feature correspondences by finding the most similar feature
in image I(a) for every feature in image I(b), using a similarity metric
comparing the appearance fj of the features</p>
</blockquote>
<p>ç®€å•ç†è§£å°±æ˜¯æ ¹æ®ä¸Šä¸€æ­¥æŠ½å–çš„featureså»ä¸€ä¸€æ¯”å¯¹æ¯ä¸€å¯¹image
pairï¼Œå¯»æ‰¾å‡ºæ¯ä¸€å¯¹image pairä¸­çš„ç›¸ä¼¼featureï¼Œä»è€Œæ‰¾å‡ºsame scene
partã€‚</p>
<p><em>geometric verification</em>
æˆ‘è§‰å¾—æœ‰ç‚¹ç¨å¾®éš¾ç†è§£ã€‚ä¸Šä¸€æ­¥åªæ˜¯ç¡®è®¤äº†æ¯ä¸€å¼ å›¾ç‰‡ä¸­åœ¨apperanceä¸Šç›¸ä¼¼çš„scene
partï¼Œä½†æœ‰å¯èƒ½ä¸æ˜¯æŒ‡ä»£çš„è¿™ä¸ªåœºæ™¯ä¸‹çš„åŒä¸€ä¸ªobjectï¼ˆPointï¼‰,
æ‰€ä»¥å°±éœ€è¦å»verifyä¸Šä¸€æ­¥çš„matchæ˜¯å¦å‡†ç¡®ï¼Œæ€ä¹ˆverifyå‘¢ï¼Ÿé€šè¿‡projective
geometryå»é¢„ä¼°transformation</p>
<blockquote>
<p>Since matching is based solely on appearance, it is not guaranteed
that corresponding features actually map to the same scene point</p>
</blockquote>
<ul>
<li>structure and motion reconstruction</li>
</ul>
<hr>
<p>LLFFä¸­å®ç°ä¸Šè¿°ç¬¬ä¸€æ­¥éª¤çš„è„šæœ¬ä¸º<code>imgs2poses.py</code>,
çœ‹è¯¥æºä»£ç å°±æ˜¯åŸºäºCOLMAPæ¥åšçš„ã€‚è¯•ç€è¿è¡Œè¯¥è„šæœ¬ï¼Œæµ‹è¯•æ•°æ®ç”¨repoå†…çš„<code>download_data.sh</code>ä¸‹è½½çš„æ•°æ®ã€‚è¿è¡Œå®Œåå¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼š</p>
<figure>
<img src="/2025/01/09/Novel-view-synthesis-NVS/image-20250114162420847.png" alt="image-20250114162420847">
<figcaption aria-hidden="true">image-20250114162420847</figcaption>
</figure>
<p>å…¶ä¸­imagesæ˜¯source
imagesï¼Œtestsceneä¸‹é™¤äº†imagesè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œå…¶ä»–éƒ½æ˜¯COLMAPç”Ÿæˆçš„ã€‚å…·ä½“å«ä¹‰å‚è€ƒCOLMAPçš„<a target="_blank" rel="noopener" href="https://colmap.github.io/tutorial.html#data-structure">document</a></p>
<p>logsæ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Need to run COLMAP</span><br><span class="line">Features extracted</span><br><span class="line">Features matched</span><br><span class="line">Sparse map created</span><br><span class="line">Finished running COLMAP, see data/testscene/colmap_output.txt for logs</span><br><span class="line">Post-colmap</span><br><span class="line">(&#x27;Cameras&#x27;, 5)</span><br><span class="line">(&#x27;Images #&#x27;, 20)</span><br><span class="line">(&#x27;Points&#x27;, (9906, 3), &#x27;Visibility&#x27;, (9906, 20))</span><br><span class="line">(&#x27;Depth stats&#x27;, 13.732739125795911, 118.85217973695897, 30.413495856274356)</span><br><span class="line">Done with imgs2poses</span><br></pre></td></tr></table></figure>
<p>ä»”ç»†åˆ†æä¸€ä¸‹<code>imgs2poses.py</code>ï¼Œ<strong>ä¸€å…±ç”¨COLMAPæ‰§è¡Œäº†ä¸‰æ¡terminalå‘½ä»¤</strong>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># extract features</span></span><br><span class="line">feature_extractor_args = [</span><br><span class="line">        <span class="string">&#x27;colmap&#x27;</span>, <span class="string">&#x27;feature_extractor&#x27;</span>, </span><br><span class="line">            <span class="string">&#x27;--database_path&#x27;</span>, os.path.join(basedir, <span class="string">&#x27;database.db&#x27;</span>), </span><br><span class="line">            <span class="string">&#x27;--image_path&#x27;</span>, os.path.join(basedir, <span class="string">&#x27;images&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;--ImageReader.single_camera&#x27;</span>, <span class="string">&#x27;1&#x27;</span>,</span><br><span class="line">            <span class="comment"># &#x27;--SiftExtraction.use_gpu&#x27;, &#x27;0&#x27;,</span></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># matching</span></span><br><span class="line">exhaustive_matcher_args = [</span><br><span class="line">        <span class="string">&#x27;colmap&#x27;</span>, match_type, </span><br><span class="line">            <span class="string">&#x27;--database_path&#x27;</span>, os.path.join(basedir, <span class="string">&#x27;database.db&#x27;</span>), </span><br><span class="line">    ]</span><br><span class="line"><span class="comment"># Sparse map create</span></span><br><span class="line">mapper_args = [</span><br><span class="line">        <span class="string">&#x27;colmap&#x27;</span>, <span class="string">&#x27;mapper&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;--database_path&#x27;</span>, os.path.join(basedir, <span class="string">&#x27;database.db&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;--image_path&#x27;</span>, os.path.join(basedir, <span class="string">&#x27;images&#x27;</span>),</span><br><span class="line">            <span class="string">&#x27;--output_path&#x27;</span>, os.path.join(basedir, <span class="string">&#x27;sparse&#x27;</span>), <span class="comment"># --export_path changed to --output_path in colmap 3.6</span></span><br><span class="line">            <span class="string">&#x27;--Mapper.num_threads&#x27;</span>, <span class="string">&#x27;16&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;--Mapper.init_min_tri_angle&#x27;</span>, <span class="string">&#x27;4&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;--Mapper.multiple_models&#x27;</span>, <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;--Mapper.extract_colors&#x27;</span>, <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>
<p>å¯¹ç…§colmap cliçš„<a target="_blank" rel="noopener" href="https://colmap.github.io/cli.html">guidebook</a>,
ä½œè€…ä½¿ç”¨äº†å‰ä¸‰ä¸ªå‘½ä»¤ï¼Œdenseéƒ¨åˆ†æ²¡æœ‰ç»§ç»­ç”Ÿæˆã€‚æƒ³è¦çŸ¥é“å®ƒoutputå‡ºæ¥çš„è¿™äº›.binæ–‡ä»¶å«ä¹‰ï¼Œéœ€è¦ææ˜ç™½<code>database.db</code>å†…æœ‰ä»€ä¹ˆä¸œè¥¿ï¼Œå®ƒæ˜¯feature
extractionçš„äº§ç‰©ã€‚dbæ–‡ä»¶å¯ä»¥ç”¨vscodeçš„æ’ä»¶æ‰“å¼€ï¼Œå®ƒåŒ…å«7ä¸ªtableï¼š</p>
<figure>
<img src="/2025/01/09/Novel-view-synthesis-NVS/image-20250115133036561.png" alt="image-20250115133036561">
<figcaption aria-hidden="true">image-20250115133036561</figcaption>
</figure>
<p>keypointsè¡¨æ ¼ä¸­ï¼Œæˆ‘ä¸‹å›¾æˆªå›¾çš„dataéƒ¨åˆ†é‡Œæ‰æ˜¯æ‰€æœ‰featureçš„ä¿¡æ¯ï¼Œå†…æœ‰æ¯ä¸€ä¸ªfeatureæ‰€åœ¨çš„Xï¼ŒYåæ ‡ã€‚</p>
<blockquote>
<p>COLMAP uses the convention that the upper left image corner has
coordinate (0, 0) and the center of the upper left most pixel has
coordinate (0.5, 0.5)</p>
<p>COLMAPåœ¨è¡¨ç¤ºå›¾åƒåæ ‡æ—¶ï¼Œé‡‡ç”¨äº†ä¸€ç§ç‰¹å®šçš„åæ ‡ç³»ç»Ÿï¼Œå…¶ä¸­å›¾åƒçš„å·¦ä¸Šè§’è¢«å®šä¹‰ä¸ºåæ ‡åŸç‚¹
(0, 0)ã€‚è€Œâ€œthe center of the upper left most pixel has coordinate (0.5,
0.5)â€ æŒ‡çš„æ˜¯å›¾åƒä¸­æœ€å·¦ä¸Šè§’çš„åƒç´ çš„ä¸­å¿ƒä½ç½®è¢«èµ‹äºˆäº†åæ ‡ (0.5, 0.5)ã€‚</p>
</blockquote>
<figure>
<img src="/2025/01/09/Novel-view-synthesis-NVS/image-20250115133949032.png" alt="image-20250115133949032">
<figcaption aria-hidden="true">image-20250115133949032</figcaption>
</figure>
<p>åœ¨è¿™ä¸¤å¼ è¡¨æ ¼ä¸­ï¼Œrowsè¡¨ç¤ºçš„æ•°å€¼æ˜¯number of detected features per
image, å¦‚æœrows=0, é‚£ä¹ˆè¿™ä¸ªimageæ²¡æœ‰feature</p>
<p>åœ¨è¿è¡Œå‘½ä»¤<code>colmap exhaustive_matcher --database_path ./data/testscene/database.db</code>åï¼Œdbæ–‡ä»¶å†…çš„matchsè¿™å¼ è¡¨ä¼šå‡ºç°å€¼ï¼ˆä¹‹å‰æ²¡æœ‰ï¼‰ï¼Œæ¯ä¸€è¡Œä¼šè¡¨ç¤ºä¸€å¼ å›¾ç‰‡å’Œå¦å¤–ä¸€å¼ å›¾ç‰‡çš„åŒ¹é…ç»“æœï¼Œrowsçš„å€¼è¡¨ç¤ºmatchä¸Šç‰¹å¾ç‚¹çš„ä¸ªæ•°ã€‚</p>
<p>ç¬¬ä¸‰ä¸ªå‘½ä»¤<code>colmap mapper...</code>å®ç°äº†sparse
3Dçš„é‡å»ºï¼Œåœ¨å‰é¢ä¸¤ä¸ªå‘½ä»¤äº§ç”Ÿçš„ç»“æœä¸Š(feature
extraction&amp;match)ã€‚è¿è¡Œå®Œç¬¬ä¸‰æ¡å‘½ä»¤åï¼Œæ–‡ä»¶å¤¹å†…çš„å†…å®¹æ˜¯è¿™æ ·çš„ï¼š</p>
<figure>
<img src="/2025/01/09/Novel-view-synthesis-NVS/image-20250212142310347.png" alt="image-20250212142310347">
<figcaption aria-hidden="true">image-20250212142310347</figcaption>
</figure>
<p>ç¬¬ä¸‰æ¡å‘½ä»¤äº§ç”Ÿçš„ç»“æœæ”¾åœ¨<code>sparse</code>æ–‡ä»¶å¤¹å†…ã€‚</p>
<p>å¦‚æœç”¨LLFF
repoå†…çš„<code>imgs2poses.py</code>ï¼Œè„šæœ¬è¿è¡Œåä¼šå‘ç°åœ¨testsceneæ–‡ä»¶å¤¹ä¸‹è¿˜ä¼šå‡ºç°ä¸€ä¸ª<code>poses_bounds.npy</code>çš„æ–‡ä»¶ï¼ŒæŸ¥çœ‹<code>imgs2poses.py</code>ä¸­çš„gen_posesæ–¹æ³•ï¼Œä¼šå‘ç°åœ¨æ‰§è¡Œå®Œcolmapçš„ä¸Šé¢ä¸‰æ¡å‘½ä»¤ååˆå†æ¬¡è¿è¡Œäº†<code>load_colmap_data()</code>å’Œ<code>save_poses()</code>ã€‚å…¶ä¸­çš„<code>load_colmap_data()</code>å¯¹colmapä¸‰æ¡å‘½ä»¤çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯ä¸‰ä¸ªbinæ–‡ä»¶åšäº†è¯»å–å’Œå¤„ç†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_colmap_data</span>(<span class="params">realdir</span>):</span></span><br><span class="line">    <span class="comment"># é¦–å…ˆè¯»å–cameras.binï¼Œæå–å†…å‚ height, width, focal</span></span><br><span class="line">    camerasfile = os.path.join(realdir, <span class="string">&#x27;sparse/0/cameras.bin&#x27;</span>)</span><br><span class="line">    camdata = read_model.read_cameras_binary(camerasfile)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># cam = camdata[camdata.keys()[0]]</span></span><br><span class="line">    list_of_keys = <span class="built_in">list</span>(camdata.keys())</span><br><span class="line">    cam = camdata[list_of_keys[<span class="number">0</span>]]</span><br><span class="line">    <span class="built_in">print</span>( <span class="string">&#x27;Cameras&#x27;</span>, <span class="built_in">len</span>(cam))</span><br><span class="line"></span><br><span class="line">    h, w, f = cam.height, cam.width, cam.params[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># w, h, f = factor * w, factor * h, factor * f</span></span><br><span class="line">    hwf = np.array([h,w,f]).reshape([<span class="number">3</span>,<span class="number">1</span>])</span><br><span class="line">    </span><br><span class="line">    imagesfile = os.path.join(realdir, <span class="string">&#x27;sparse/0/images.bin&#x27;</span>)</span><br><span class="line">    imdata = read_model.read_images_binary(imagesfile)</span><br><span class="line">    </span><br><span class="line">    w2c_mats = []</span><br><span class="line">    bottom = np.array([<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1.</span>]).reshape([<span class="number">1</span>,<span class="number">4</span>])</span><br><span class="line">    </span><br><span class="line">    names = [imdata[k].name <span class="keyword">for</span> k <span class="keyword">in</span> imdata]</span><br><span class="line">    <span class="built_in">print</span>( <span class="string">&#x27;Images #&#x27;</span>, <span class="built_in">len</span>(names))</span><br><span class="line">    perm = np.argsort(names)</span><br><span class="line">    <span class="comment"># è¿™é‡Œ im.qvec2rotmat() æ˜¯ä»å››å…ƒæ•°è®¡ç®—å‡º 3x3 æ—‹è½¬çŸ©é˜µï¼Œim.tvec æ˜¯ 3x1 å¹³ç§»å‘é‡ã€‚è¿™ä¸¤è€…åˆå¹¶æˆ 4x4 çš„ world-to-camera å˜æ¢çŸ©é˜µï¼Œå¹¶å­˜å…¥ w2c_mats</span></span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> imdata:</span><br><span class="line">        im = imdata[k]</span><br><span class="line">        R = im.qvec2rotmat()</span><br><span class="line">        t = im.tvec.reshape([<span class="number">3</span>,<span class="number">1</span>])</span><br><span class="line">        m = np.concatenate([np.concatenate([R, t], <span class="number">1</span>), bottom], <span class="number">0</span>)</span><br><span class="line">        w2c_mats.append(m)</span><br><span class="line">    </span><br><span class="line">    w2c_mats = np.stack(w2c_mats, <span class="number">0</span>)</span><br><span class="line">    c2w_mats = np.linalg.inv(w2c_mats)</span><br><span class="line">    </span><br><span class="line">    poses = c2w_mats[:, :<span class="number">3</span>, :<span class="number">4</span>].transpose([<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>]) <span class="comment"># # å–3x4éƒ¨åˆ†ï¼ˆæ—‹è½¬ + å¹³ç§»ï¼‰</span></span><br><span class="line">    poses = np.concatenate([poses, np.tile(hwf[..., np.newaxis], [<span class="number">1</span>,<span class="number">1</span>,poses.shape[-<span class="number">1</span>]])], <span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    points3dfile = os.path.join(realdir, <span class="string">&#x27;sparse/0/points3D.bin&#x27;</span>)</span><br><span class="line">    pts3d = read_model.read_points3d_binary(points3dfile)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># must switch to [-u, r, -t] from [r, -u, t], NOT [r, u, -t]</span></span><br><span class="line">    <span class="comment"># æ­¤æ—¶ poses.shape = (3,5,N)ï¼Œä½†å®ƒçš„åæ ‡è½´æ–¹å‘ä»ç„¶æ˜¯ COLMAP çš„ [right, down, forwards]ï¼Œæˆ‘ä»¬éœ€è¦è½¬æ¢æˆ [down, right, backwards]</span></span><br><span class="line">    poses = np.concatenate([poses[:, <span class="number">1</span>:<span class="number">2</span>, :], poses[:, <span class="number">0</span>:<span class="number">1</span>, :], -poses[:, <span class="number">2</span>:<span class="number">3</span>, :], poses[:, <span class="number">3</span>:<span class="number">4</span>, :], poses[:, <span class="number">4</span>:<span class="number">5</span>, :]], <span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> poses, pts3d, perm</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œreadmeä¸­ä¹Ÿå¯¹<code>pose_bounds.npy</code>çš„å†…å®¹è¿›è¡Œäº†è§£é‡Šã€‚è¿™ä¸ªæ–‡ä»¶å¾ˆé‡è¦ï¼Œå¯ä»¥çœ‹åˆ°nerfä¸­å¯¼å…¥LLFFæ•°æ®é›†ä¹Ÿæ˜¯ä»è¯¥æ–‡ä»¶ä¸­å¯¼å…¥çš„æ•°æ®ï¼Œå¯¼å…¥æ–¹å¼åªæœ‰ä¸‰è¡Œä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">poses_arr = np.load(os.path.join(basedir, <span class="string">&#x27;poses_bounds.npy&#x27;</span>))</span><br><span class="line">poses = poses_arr[:, :-<span class="number">2</span>].reshape([-<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]).transpose([<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>])</span><br><span class="line">bds = poses_arr[:, -<span class="number">2</span>:].transpose([<span class="number">1</span>,<span class="number">0</span>])</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æˆ‘æœ¬æ¥ä¹Ÿæ˜¯å…ˆçœ‹çš„nerfçš„ä»£ç ï¼Œçœ‹åˆ°è¿™é‡Œå¯¼å…¥LLFFæ•°æ®é›†çš„æ–¹å¼æ²¡çœ‹æ‡‚ï¼Œä¸»è¦æ˜¯ä¸çŸ¥é“pose_bounds.npyå†…å­˜å‚¨çš„å†…å®¹çš„å…·ä½“å«ä¹‰ï¼Œæ‰€ä»¥æ‰è¡¥å……äº†LLFFçš„ä¸Šé¢çš„è¯¸å¤šçŸ¥è¯†ç©ºç™½ã€‚LLFFçš„ä½œè€…åœ¨readmeä¸­å¯¹è¿™ä¸ªæ–‡ä»¶çš„å«ä¹‰è¿›è¡Œäº†è§£é‡Šï¼š</p>
</blockquote>
<p><strong><em>This file stores a numpy array of size Nx17 (where N is
the number of input images).Each row of length 17 gets reshaped into a
3x5 pose matrix and 2 depth values that bound the closest and farthest
scene content from that point of view.</em></strong></p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„æ¦‚å¿µâ€ç›¸æœºçš„å§¿æ€â€œ(cammera
poses)ï¼Œå¯ä»¥å‚è€ƒé˜…è¯»ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://yunyang1994.github.io/2019/12/27/%E4%BB%80%E4%B9%88%E6%98%AF%E7%9B%B8%E6%9C%BA%E7%9A%84%E4%BD%8D%E5%A7%BF/">ä»€ä¹ˆæ˜¯ç›¸æœºçš„ä½å§¿
ï¼Ÿ</a></li>
</ul>
<blockquote>
<p>å…¶ä¸­ <code>T_&#123;cw&#125;</code>
ä¸ºè¯¥ç‚¹ä»ä¸–ç•Œåæ ‡ç³»å˜æ¢åˆ°ç›¸æœºåæ ‡ç³»çš„å˜æ¢çŸ©é˜µï¼Œ <code>T_&#123;wc&#125;</code>
ä¸ºè¯¥ç‚¹ä»ç›¸æœºåæ ‡ç³»å˜æ¢åˆ°ä¸–ç•Œåæ ‡ç³»çš„å˜æ¢çŸ©é˜µã€‚<strong>å®ƒä»¬äºŒè€…éƒ½å¯ä»¥ç”¨æ¥è¡¨ç¤ºç›¸æœºçš„ä½å§¿ï¼Œå‰è€…ç§°ä¸ºç›¸æœºçš„å¤–å‚</strong>ã€‚</p>
<p>å®è·µå½“ä¸­ä½¿ç”¨ <code>T_&#123;cw&#125;</code>
æ¥è¡¨ç¤ºç›¸æœºä½å§¿æ›´åŠ å¸¸è§ã€‚ç„¶è€Œåœ¨å¯è§†åŒ–ç¨‹åºä¸­ä½¿ç”¨ <code>T_&#123;wc&#125;</code>
æ¥è¡¨ç¤ºç›¸æœºä½å§¿æ›´ä¸ºç›´è§‚ï¼Œå› ä¸ºæ­¤æ—¶å®ƒçš„å¹³ç§»å‘é‡å³ä¸ºç›¸æœºåŸç‚¹åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­çš„åæ ‡ã€‚è§†è§‰
Slam åå››è®²ä¸­çš„ç¬¬äº”è®²çš„ joinMap ä½¿ç”¨çš„å°±æ˜¯ <code>T_&#123;wc&#125;</code>
æ¥è¡¨ç¤ºç›¸æœºä½å§¿è¿›è¡Œç‚¹äº‘æ‹¼æ¥ã€‚</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.mkari.de/posts/cam-transform/">Camera
Conventions, Transforms, and Conversions</a></li>
</ul>
<p><code>poses = poses_arr[:, :-2].reshape([-1, 3, 5]).transpose([1,2,0])</code>
å–å‰15ä¸ªæ•°ï¼Œå»æ‰æœ€å2ä¸ªnearå’Œfarï¼Œå¹¶reshapeæˆï¼ˆNï¼Œ3ï¼Œ5ï¼‰çš„çŸ©é˜µï¼š</p>
<p>â”Œ â” â”‚ R11 R12 R13 t1 hwf1 â”‚ â”‚ R21 R22 R23 t2 hwf2 â”‚ â”‚ R31 R32 R33 t3
hwf3 â”‚ â”” â”˜</p>
<p>å…¶ä¸­Réƒ¨åˆ†æ˜¯æ—‹è½¬çŸ©é˜µï¼Œtæ˜¯å¹³ç§»å‘é‡ã€‚</p>
<p><strong>æœ€ç»ˆ
<code>poses.shape = (3, 5, N)</code>ï¼Œå…¶ä¸­</strong>ï¼š</p>
<ul>
<li><code>poses[:, :4, :]</code> â†’ <code>3x4</code> çš„
<strong>ç›¸æœºå¤–å‚</strong> (<code>R|t</code>)</li>
<li><code>poses[:, 4:5, :]</code> â†’ <code>3x1</code> çš„
<strong>ç›¸æœºå†…å‚</strong> <code>[h, w, f]</code></li>
</ul>
<p><code>bds = poses_arr[:, -2:].transpose([1,0])</code>ï¼šå–å‡º
<strong>æœ€åä¸¤åˆ—</strong>ï¼Œå³ <code>near</code> å’Œ <code>far</code>
æ·±åº¦è¾¹ç•Œï¼Œå½¢çŠ¶æ˜¯ <code>(N, 2)</code>ã€‚</p>
<p><strong><code>.transpose([1,0])</code></strong>ï¼šäº¤æ¢è½´é¡ºåºï¼Œä½¿
<code>bds.shape = (2, N)</code>ï¼š</p>
<ul>
<li><strong>ç¬¬ä¸€ç»´ (2)</strong>ï¼šè¡¨ç¤º <strong>æœ€è¿‘ (<code>near</code>)
å’Œ æœ€è¿œ (<code>far</code>) æ·±åº¦</strong></li>
<li><strong>ç¬¬äºŒç»´ (N)</strong>ï¼šå¯¹åº” <strong>N å¼ å›¾åƒ</strong></li>
</ul>
<ol start="2" type="1">
<li>Generate MPIs</li>
</ol>
<p>è„šæœ¬ä¸º<code>imgs2mpi2.py</code>ã€‚è¿™ä¸€æ­¥æ˜¯é‡‡ç”¨è®­ç»ƒå¥½çš„tensorflowæ¨¡å‹å¯¹ç¬¬ä¸€æ­¥éª¤çš„ç»“æœè¿›è¡ŒMPIçš„ç”Ÿæˆã€‚è¿™ä¸€æ­¥å®ç°çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<figure>
<img src="/2025/01/09/Novel-view-synthesis-NVS/image-20250212153512883.png" alt="image-20250212153512883">
<figcaption aria-hidden="true">image-20250212153512883</figcaption>
</figure>
<h2 id="nerf-code-è§£æ">Nerf Code è§£æ</h2>
<p>å›åˆ°Nerfçš„<a target="_blank" rel="noopener" href="https://github.com/yenchenlin/nerf-pytorch">pytorchä»£ç </a>ã€‚<code>train()</code>ä¸­argså¯ä»¥æŒ‡å®šè¾“å…¥å“ªä¸€ç§æ•°æ®é›†ï¼Œæˆ‘ä»¬è¿™é‡Œå°±åªçœ‹llff,
é¦–å…ˆæ˜¯<code>load_llff_data</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">images, poses, bds, render_poses, i_test = load_llff_data(args.datadir, args.factor,</span><br><span class="line">                                                                  recenter=<span class="literal">True</span>, bd_factor=<span class="number">.75</span>,</span><br><span class="line">                                                                  spherify=args.spherify)</span><br></pre></td></tr></table></figure>
<p><code>images</code>: å›¾åƒæ•°æ®</p>
<p><code>poses</code>: ç›¸æœºå§¿æ€çŸ©é˜µ</p>
<p><code>bds</code>: æ¯ä¸ªå›¾åƒçš„æ·±åº¦èŒƒå›´</p>
<p><code>render_poses</code>: æ¸²æŸ“è·¯å¾„ç›¸æœºå§¿æ€ï¼ˆç”¨äºå¯è§†åŒ–ï¼‰</p>
<p><code>i_test</code>: è¢«é€‰ä¸º holdout çš„è§†è§’ç´¢å¼•ï¼ˆç”¨äºéªŒè¯ï¼‰</p>
<p>posesçš„shapeä¸º [N_images, 3, 4]ï¼Œæ¯ä¸€ä¸ªposes[i]
æ˜¯ä¸€å¼ å›¾åƒçš„ç›¸æœºå¤–å‚çŸ©é˜µï¼ˆcamera-to-worldï¼‰ã€‚ <span class="math display">\[
pose=[R t]
\]</span></p>
<ul>
<li>Rï¼šæ—‹è½¬çŸ©é˜µï¼ˆè¡¨ç¤ºç›¸æœºæœå‘ï¼‰</li>
<li>tï¼šå¹³ç§»å‘é‡ï¼ˆç›¸æœºåœ¨ä¸–ç•Œåæ ‡ä¸­çš„ä½ç½®ï¼‰</li>
</ul>
<p>ğŸ“Œ
å®ƒå‘Šè¯‰ä½ ï¼š<strong>è¿™å¼ å›¾åƒçš„æ¯ä¸€æ¡å…‰çº¿ä»å“ªé‡Œå‘å‡ºï¼Œæœå“ªä¸ªæ–¹å‘å‘å°„</strong>ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“nerfçš„è¾“å…¥æ˜¯ä¸€ä¸ª5Dçš„è¾“å…¥</p>
<figure>
<img src="/2025/01/09/Novel-view-synthesis-NVS/image-20250709152101346.png" alt="nerfè¾“å…¥">
<figcaption aria-hidden="true">nerfè¾“å…¥</figcaption>
</figure>
<p>æœ‰äº†posesä¹‹åï¼Œä¸‹é¢çš„æ­¥éª¤å°±æ˜¯ï¼š åƒç´  â†’ get_rays â†’ rays_o, rays_d â†“
åœ¨å…‰çº¿ä¸Šé‡‡æ · t å€¼ (near â†’ far) â†“ points = rays_o + t * rays_d â†“
æ¯ä¸ªç‚¹è¾“å…¥ MLP â†’ å¾—åˆ° (Ïƒ, RGB) â†“ ä½“æ¸²æŸ“ï¼ˆvolume renderingï¼‰ â†’ èšåˆé¢œè‰² â†’
å›¾åƒåƒç´ </p>
<p>å…¶ä¸­<code>get_rays()</code>å°±æ˜¯å¯¹è¯¥å›¾ç‰‡ä¸Šæ¯ä¸€ä¸ªåƒç´ ç‚¹å½¢æˆçš„æ—¶å€™çš„å…‰çº¿ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›æ¯ä¸€æ¡å…‰çº¿çš„èµ·ç‚¹å’Œé˜²çº¿ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rays_o, rays_d = get_rays(H, W, K, torch.Tensor(pose))  <span class="comment"># (H, W, 3), (H, W, 3)</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„è¿™é‡Œçš„shapeæ˜¯(H,W,3)ï¼ŒHæ˜¯è¯¥imageçš„é«˜åº¦ï¼ŒWæ˜¯è¯¥imageçš„å®½åº¦ã€‚3æ˜¯è¡¨ç¤ºä¸‰ç»´é‡Œçš„åæ ‡ï¼Œrays_oåŸºæœ¬ä¸€è‡´ï¼Œéƒ½è¡¨ç¤ºç›¸æœºä½ç½®ã€‚</p>
<p>æ—¢ç„¶å¯¹æ¯ä¸€ä¸ªåƒç´ æœ‰äº†ä¸€æ¡å°„çº¿ï¼Œä¸‹é¢è¦åšçš„å°±æ˜¯åœ¨æ¯ä¸€ä¸ªå°„çº¿ä¸Šsampleå¥½å¤šä¸ªç‚¹ï¼Œå¦‚paperä¸­å›¾ç”»çš„ï¼š</p>
<figure>
<img src="/2025/01/09/Novel-view-synthesis-NVS/image-20250710101850259.png" alt="sample points">
<figcaption aria-hidden="true">sample points</figcaption>
</figure>
<p>è¿™ä¸€æ­¥åœ¨ä»£ç ä¸­æ˜¯<code>render()</code>åšçš„ï¼Œrenderæ¥å—çš„ä¸€ä¸ªè¾“å…¥å‚æ•°æ˜¯raysï¼Œraysä¸­åŒ…å«äº†é€‰å–çš„çš„å°„çº¿çš„èµ·ç‚¹ä»¥åŠæ–¹å‘ã€‚å‡½æ•°å†…å…·ä½“æ“ä½œçš„è¿™ä¸€éƒ¨åˆ†åœ¨<code>render_rays()</code>å†…ã€‚</p>
<p><strong>å°„çº¿ä¸Šé‡‡æ ·ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pythonå¤åˆ¶ç¼–è¾‘z_vals = torch.linspace(near, far, N_samples)  <span class="comment"># (N_samples,)</span></span><br><span class="line">pts = rays_o[:, <span class="literal">None</span>, :] + rays_d[:, <span class="literal">None</span>, :] * z_vals[<span class="literal">None</span>, :, <span class="literal">None</span>]  <span class="comment"># (N_rays, N_samples, 3)</span></span><br></pre></td></tr></table></figure>
<p><strong>å°†é‡‡æ ·çš„ç‚¹è¾“å…¥ç½‘ç»œ</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">raw = network_fn(pts_flat)  <span class="comment"># MLP è¾“å‡ºå¯†åº¦ Ïƒ å’Œé¢œè‰² RGB</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ <code>pts_flat</code> æ˜¯æŠŠ <code>pts</code>
æ‹‰æˆäºŒç»´å½¢çŠ¶ï¼š(N_rays * N_samples, 3)</p>
<p>å¦‚æœæœ‰ viewing directionï¼Œè¿˜ä¼šåŠ åˆ° MLP è¾“å…¥ä¸­ã€‚</p>
<p><strong>volume rendering</strong></p>
<p>æ ¹æ®æ¯ä¸ªç‚¹çš„é¢„æµ‹å¯†åº¦Ïƒ å’Œé¢œè‰² cï¼Œä½¿ç”¨ä½“æ¸²æŸ“å…¬å¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">T_i = exp(-âˆ‘_&#123;j=<span class="number">1</span>&#125;^&#123;i-<span class="number">1</span>&#125; Ïƒ_j * Î”_j)  <span class="comment"># ç´¯ç§¯é€å°„ç‡</span></span><br><span class="line">w_i = T_i * (<span class="number">1</span> - exp(-Ïƒ_i * Î”_i))   <span class="comment"># æƒé‡</span></span><br><span class="line">rgb_map = âˆ‘ w_i * c_i               <span class="comment"># æœ€ç»ˆåƒç´ é¢œè‰²</span></span><br></pre></td></tr></table></figure>
<h1 id="dgs">3DGS</h1>
<p>è‡ªä»3DGSå‡ºæ¥ä¹‹åï¼Œnerfä¸Šçš„æ›´æ–°å°±å˜å°‘äº†ï¼ŒåŸºæœ¬ä¸Šæ˜¯3DGSçš„å¤©ä¸‹äº†ï¼Œ3DGSçš„åŸæ–‡å¾ˆéš¾è¯»æ‡‚ï¼Œcodeä¹Ÿæ˜¯æ¯”è¾ƒéš¾çš„ï¼Œæˆ‘æ‰¾äº†å¾ˆå¤šå…¶ä»–çš„åšå®¢æ¥ç†è§£å®ƒå’Œnerfçš„åŒºåˆ«ï¼Œè¿™é‡Œæ¨èå‡ ä¸ªã€‚</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=oERwGxaZO_c&amp;t=1032s">Talk |
åŠ å·å¤§å­¦æ´›æ‰çŸ¶åˆ†æ ¡å‘¨è¯—æ°ï¼š3DGSæ—¶ä»£çš„ä¸‰ç»´åœºæ™¯è¡¨ç¤ºä¸ç”Ÿæˆ</a>
ä¸­æ–‡ï¼Œè§†é¢‘å‰20åˆ†é’Ÿè§£é‡Šäº†3DGSçš„ä¸€äº›åŸç†ï¼Œå®ƒçš„æ³¼å¢¨æ¯”å–»è¿˜æŒºå½¢è±¡çš„ï¼Œè™½ç„¶æˆ‘è¿˜æ˜¯æ²¡æ€ä¹ˆæ˜ç™½å…¶ä¸­ç»†èŠ‚ï¼Œè¿™ä½presenterä¸»è¦æ˜¯ä¸ºäº†è®²è‡ªå·±çš„å·¥ä½œï¼Œå½“ä½œ3DGSçš„å¼•è¨€å¥½äº†ã€‚å…¶ä¸­è¿™ä½åšä¸»è§£é‡Šäº†ä¸ºä»€ä¹ˆå«novel
view (æ–°é¢–è§†è§’).</li>
<li><a target="_blank" rel="noopener" href="https://edwardahn.me/archive/2024/02/19/NeRFvs3DGS">Three
Level Summary: Neural Radiance Fields vs. 3D Gaussian Splatting</a>
è§£é‡Š3DGSå’ŒnerfåŒºåˆ«çš„ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œå»ºè®®é˜…è¯»ã€‚ä¸€äº›é‡ç‚¹åœ°æ–¹æˆ‘ä¹Ÿè´´ä¸Šäº†ï¼Œè¿™äº›è¯å¾ˆå¥½çš„å¸®åŠ©æˆ‘ç†è§£äº†3DGSã€‚</li>
</ul>
<blockquote>
<p>The goal of both NeRFs and 3DGS is to solve the following problem:
given a few images of some 3D scene taken from different camera
viewpoints, can we generate an image of this scene from any new camera
viewpoint? This problem is formally called novel view synthesis, since
weâ€™re attempting to synthesize (generate) novel (new) views of some
particular scene.</p>
</blockquote>
<blockquote>
<p>3DGS builds on rasterization. The 3DGS algorithm essentially learns a
point cloud of splats<a target="_blank" rel="noopener" href="https://edwardahn.me/archive/2024/02/19/NeRFvs3DGS#footnote-3">3</a>
(ie. ellipsoids, or mathematically, 3D Gaussians) from input images, and
once the point cloud is learned, you can place your camera wherever you
want to view the point cloud from a novel view. Hereâ€™s some very
high-level pseudocode to train 3DGS:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Splats = initialize random 3D Gaussians</span><br><span class="line">While average loss &gt; threshold:</span><br><span class="line">    For each input image:</span><br><span class="line">        Generated image = Rasterize(splats)</span><br><span class="line">        Loss = Generated image - input image</span><br><span class="line">        If a splat doesn&#x27;t cover enough space in an area:</span><br><span class="line">            Clone a new splat in the area</span><br><span class="line">        If a splat covers too much area:</span><br><span class="line">            Split that splat into two</span><br><span class="line">        For each splat:</span><br><span class="line">            Modify splat parameters to reduce loss</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>No neural networks are used for 3DGS; instead, the algorithm
iteratively learns to clone, split, or modify (ex. change the size or
color of) splats based on the loss<a target="_blank" rel="noopener" href="https://edwardahn.me/archive/2024/02/19/NeRFvs3DGS#footnote-4">4</a>,
until the generated images look similar to the input images.</p>
</blockquote>
<h2 id="dgs-code-è§£æ">3DGS Code è§£æ</h2>
<p>è¿™é‡Œæˆ‘çœ‹çš„æ˜¯3DGSçš„å®˜æ–¹<a target="_blank" rel="noopener" href="https://github.com/graphdeco-inria/gaussian-splatting">repo</a></p>
<p>é¦–å…ˆå…ˆå¯¹è¯¥åœºæ™¯åˆå§‹åŒ–ä¸€å †çš„gaussian,
åˆå§‹åŒ–å®Œæˆåå°±å¯ä»¥å¾—åˆ°è¯¥åœºæ™¯äº†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gaussians = GaussianModel(dataset.sh_degree)</span><br><span class="line">scene = Scene(dataset, gaussians)</span><br></pre></td></tr></table></figure>
<p>ç„¶åæ˜¯éšæœºé€‰å–è®­ç»ƒé›†ä¸­çš„æŸä¸ªè§†è§’ï¼Œå¯¹è¯¥è§†è§’ä¸‹çš„2Då›¾ç‰‡è¿›è¡Œâ€œæ¨ç†â€ï¼Œä¹Ÿå°±æ˜¯renderï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> iteration <span class="keyword">in</span> <span class="built_in">range</span>(first_iter, opt.iterations + <span class="number">1</span>):</span><br><span class="line">        ...</span><br><span class="line"><span class="comment"># Pick a random Camera</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> viewpoint_stack:</span><br><span class="line">            viewpoint_stack = scene.getTrainCameras().copy()</span><br><span class="line">        viewpoint_cam = viewpoint_stack.pop(randint(<span class="number">0</span>, <span class="built_in">len</span>(viewpoint_stack)-<span class="number">1</span>)) <span class="comment"># éšæœºé€‰å–è§†è§’</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Render</span></span><br><span class="line">        <span class="keyword">if</span> (iteration - <span class="number">1</span>) == debug_from:</span><br><span class="line">            pipe.debug = <span class="literal">True</span></span><br><span class="line">        render_pkg = render(viewpoint_cam, gaussians, pipe, background) <span class="comment"># è¿™ä¸€æ­¥å°±æ˜¯å¯¹è¯¥è§†è§’ä¸‹çš„2D</span></span><br><span class="line">        image, viewspace_point_tensor, visibility_filter, radii = render_pkg[<span class="string">&quot;render&quot;</span>], render_pkg[<span class="string">&quot;viewspace_points&quot;</span>], render_pkg[<span class="string">&quot;visibility_filter&quot;</span>], render_pkg[<span class="string">&quot;radii&quot;</span>]</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div></div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechat_pay.jpg" alt="YAN WeChat Pay">
        <span>WeChat Pay</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/cv/" rel="tag"># cv</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/08/13/%E7%94%9F%E6%88%90%E6%A8%A1%E5%9E%8B/" rel="prev" title="ç”Ÿæˆæ¨¡å‹">
                  <i class="fa fa-chevron-left"></i> ç”Ÿæˆæ¨¡å‹
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/05/08/RAG-Enhancement-%E6%8F%90%E9%AB%98%E5%9F%BA%E4%BA%8ERAG%E7%9A%84%E9%97%AE%E7%AD%94%E7%B3%BB%E7%BB%9F%E4%B8%AD%E5%9B%9E%E7%AD%94%E8%B4%A8%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95%E8%AE%BA%E8%BF%B0/" rel="next" title="RAG Enhancement(æé«˜åŸºäºRAGçš„é—®ç­”ç³»ç»Ÿä¸­å›ç­”è´¨é‡çš„æ–¹æ³•è®ºè¿°)">
                  RAG Enhancement(æé«˜åŸºäºRAGçš„é—®ç­”ç³»ç»Ÿä¸­å›ç­”è´¨é‡çš„æ–¹æ³•è®ºè¿°) <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">YAN</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>Symbols count total: </span>
    <span title="Symbols count total">196k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>Reading time total &asymp;</span>
    <span title="Reading time total">2:58</span>
  </span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script src="/js/pjax.js"></script>

  
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
